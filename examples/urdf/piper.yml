nodes:
  - id: plot
    build: pip install -e ../../node-hub/dora-rerun
    path: dora-rerun
    inputs:
      jointstate_piper_description: pytorch_kinematics/cmd_vel
    env:
      piper_description_urdf: "piper_description"
      piper_description_transform: "0. 0. 0. 1. 0. 0. 0."

  - id: gamepad
    build: pip install -e ../../node-hub/gamepad
    path: gamepad
    outputs:
      - cmd_vel
      - raw_control
    inputs:
      tick: dora/timer/millis/10

  - id: pytorch_kinematics
    build: pip install -e ../../node-hub/dora-pytorch-kinematics
    path: dora-pytorch-kinematics
    inputs:
      cmd_vel: gamepad/cmd_vel
    outputs:
      - cmd_vel
    env:
      MODEL_NAME: "piper_description"
      END_EFFECTOR_LINK: "link6"
      TRANSFORM: "0. 0. 0. 1. 0. 0. 0."
      POSITION_TOLERANCE: 0.001
      ROTATION_TOLERANCE: 0.001
